{"ast":null,"code":"import BarraNavegacao from \"@/components/BarraNavegacao.vue\";\nimport AuthService from \"@/services/AuthService\";\nimport axios from \"axios\";\nexport default {\n  components: {\n    BarraNavegacao\n  },\n  data() {\n    return {\n      usuarios: [],\n      user: {\n        login: null,\n        senha: null,\n        nome: null,\n        sobrenome: null,\n        periodo: null,\n        permissoes: []\n      },\n      usuario: null,\n      emptyFields: false\n    };\n  },\n  mounted() {\n    this.getUsuarios();\n  },\n  methods: {\n    async getUsuarios() {\n      try {\n        let r = await fetch(\"http://localhost:8080/users\", {\n          method: \"GET\",\n          headers: {\n            Authorization: `Bearer ${AuthService.dados.token}`\n          }\n        });\n        r.json().then(j => {\n          this.usuarios = j;\n        });\n      } catch (ex) {\n        console.log(\"ERRO\", ex);\n      }\n    },\n    async salvar() {\n      if (this.user.login && this.user.senha && this.user.nome && this.user.sobrenome && this.user.periodo) {\n        fetch(\"http://localhost:8080/users\", {\n          method: \"POST\",\n          body: JSON.stringify(this.user),\n          headers: {\n            Authorization: `Bearer ${AuthService.dados.token}`,\n            \"Content-Type\": \"application/json\"\n          }\n        }).then(r => {\n          if (r.status !== 200 && r.status !== 201) {\n            r.json().then(j => {\n              console.log(\"ERRO\", j);\n            });\n          }\n          this.getUsuarios();\n        }).catch(e => {\n          console.log(\"ERRO\", e);\n        });\n      } else {\n        this.emptyFields = true;\n      }\n    },\n    async atualizaUsuario() {\n      if (this.usuario.nome && this.usuario.sobrenome && this.usuario.periodo) {\n        axios({\n          method: \"PUT\",\n          url: `http://localhost:8080/users/${this.usuario.id}`,\n          headers: {\n            Authorization: `Bearer ${AuthService.dados.token}`,\n            \"Content-Type\": \"application/json\"\n          },\n          data: JSON.stringify(this.usuario)\n        }).then(r => {\n          console.log(r);\n          this.getUsuarios();\n          this.usuario = null;\n        }).catch(e => {\n          console.log(\"ERRO\", e);\n        });\n      } else {\n        this.emptyFields = true;\n      }\n    },\n    async excluiUsuario() {\n      axios({\n        method: \"DELETE\",\n        url: `http://localhost:8080/users/${this.usuario.id}`,\n        headers: {\n          Authorization: `Bearer ${AuthService.dados.token}`,\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(r => {\n        console.log(r);\n        this.getUsuarios();\n        this.usuario = null;\n      }).catch(e => {\n        console.log(\"ERRO\", e);\n      });\n    },\n    abreEdit(id) {\n      axios({\n        method: \"GET\",\n        url: `http://localhost:8080/users/${id}`\n      }).then(r => {\n        this.usuario = r.data;\n      });\n    },\n    voltar() {\n      this.usuario = null;\n    }\n  }\n};","map":{"version":3,"names":["BarraNavegacao","AuthService","axios","components","data","usuarios","user","login","senha","nome","sobrenome","periodo","permissoes","usuario","emptyFields","mounted","getUsuarios","methods","r","fetch","method","headers","Authorization","dados","token","json","then","j","ex","console","log","salvar","body","JSON","stringify","status","catch","e","atualizaUsuario","url","id","excluiUsuario","abreEdit","voltar"],"sources":["/home/nomade00/Área de Trabalho/Projeto-Aplicacao-Hibrida-main/demomongosec-master/frontend/src/views/usuarios/UsuarioEditView.vue"],"sourcesContent":["<template>\n    <barra-navegacao></barra-navegacao>\n  \n    <div class=\"cadastro\">\n      <div class=\"row g-0 justify-content-center\">\n        <!-- Centraliza o conteúdo horizontalmente -->\n        <!-- Coluna responsiva -->\n        <div class=\"col-lg-9 col-md-6 col-sm-8\">\n          <!-- Ajusta o tamanho da coluna em diferentes dispositivos -->\n          <!-- Card de login -->\n          <div v-if=\"!registerActive\" class=\"card login\" :class=\"{ error: emptyFields }\">\n            <h1>Usuários:</h1>\n            <fieldset>\n              <legend>Cadastro:</legend>\n              <form>\n                <fieldset>\n                  <div class=\"row gx-3 gy-2 align-items-center p-2\">\n                    <div class=\"col-sm-4 form-group\">\n                      <input v-model=\"user.login\" type=\"login\" class=\"form-control\" placeholder=\"Login\" required>\n                    </div>\n                    <div class=\"col-sm-4\">\n                      <input v-model=\"user.senha\" type=\"senha\" class=\"form-control\" placeholder=\"Senha\" required>\n                    </div>\n                  </div>\n                  <div class=\"row gx-3 gy-2 align-items-center p-2\">\n                    <div class=\"col-sm-4\">\n                      <input v-model=\"user.nome\" type=\"text\" class=\"form-control\" placeholder=\"Nome\" required>\n                    </div>\n                    <div class=\"col-sm-4\">\n                      <input v-model=\"user.sobrenome\" type=\"text\" class=\"form-control\" placeholder=\"Sobrenome\" required>\n                    </div>\n                  </div>\n                  <div class=\"row gx-3 gy-2 align-items-center p-2\">\n                    <div class=\"col-sm-4\">\n                      <input v-model=\"user.periodo\" type=\"text\" class=\"form-control\" placeholder=\"Período\" required>\n                    </div>\n                    <div class=\"col-sm-8 menu-drop\">\n                      <select v-model=\"user.permissoes\" class=\"form-select\" multiple>\n                        <option value=\"ROLE_USER\">Usuário</option>\n                        <option value=\"ROLE_PROJETOS\">Projetos</option>\n                        <option value=\"ROLE_ADMIN\">Administrador</option>\n                      </select>\n                    </div>\n                  </div>\n                </fieldset>\n                <div class=\"row gx-3 gy-2 col-sm-2 p-4 align-items-center\">\n                  <button type=\"button\" class=\"btn btn-primary\" @click=\"salvar\">Salvar</button>\n                </div>\n              </form>\n            </fieldset>\n  \n            <table class=\"table table-dark table-striped\">\n              <thead>\n                <tr>\n                  <th>Login:</th>\n                  <th>Nome:</th>\n                  <th>Sobrenome:</th>\n                  <th>Período:</th>\n                  <th>Atualizar dados:</th>\n                </tr>\n              </thead>\n              <tbody class=\"table-group-divider\">\n                <tr v-for=\"(u, i) in usuarios\" :key=\"i\">\n                  <td>{{ u.login }}</td>\n                  <td>{{ u.nome }}</td>\n                  <td>{{ u.sobrenome }}</td>\n                  <td>{{ u.periodo }}</td>\n                  <td>\n                    <button class=\"btn btn-primary atualizar\" @click=\"abreEdit(u.id)\">Atualizar</button>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n  \n          <div v-if=\"usuario\" class=\"card login\">\n            <h1>Usuário:</h1>\n            <fieldset>\n              <legend>Dados do usuário:</legend>\n              <form>\n                <div class=\"row gx-3 gy-2 align-items-center p-2\">\n                  <div class=\"col-sm-4\">\n                    <input v-model=\"usuario.nome\" type=\"text\" class=\"form-control\" placeholder=\"Nome\" required>\n                  </div>\n                  <div class=\"col-sm-4\">\n                    <input v-model=\"usuario.sobrenome\" type=\"text\" class=\"form-control\" placeholder=\"Sobrenome\" required>\n                  </div>\n                  <div class=\"col-sm-4\">\n                    <input v-model=\"usuario.periodo\" type=\"text\" class=\"form-control\" placeholder=\"Período\" required>\n                  </div>\n                </div>\n                <div class=\"row gx-3 gy-2 align-items-center p-2\">\n                  <div class=\"col-sm-8 menu-drop\">\n                    <select v-model=\"usuario.permissoes\" class=\"form-select\" multiple>\n                      <option value=\"ROLE_USER\">Usuário</option>\n                      <option value=\"ROLE_PROJETOS\">Projetos</option>\n                      <option value=\"ROLE_ADMIN\">Administrador</option>\n                    </select>\n                  </div>\n                </div>\n                <div class=\"row gx-3 gy-2 col-sm-2 p-4 align-items-center\">\n                  <button type=\"button\" class=\"btn btn-primary\" @click=\"atualizaUsuario\">Atualizar</button>\n                  <button type=\"button\" class=\"btn btn-danger\" @click=\"excluiUsuario\">Excluir</button>\n                  <button type=\"button\" class=\"btn btn-secondary\" @click=\"voltar\">Voltar</button>\n                </div>\n              </form>\n            </fieldset>\n          </div>\n        </div>\n      </div>\n    </div>\n  </template>\n  \n  <script>\n  import BarraNavegacao from \"@/components/BarraNavegacao.vue\";\n  import AuthService from \"@/services/AuthService\";\n  import axios from \"axios\";\n  \n  export default {\n    components: {\n      BarraNavegacao,\n    },\n    data() {\n      return {\n        usuarios: [],\n        user: {\n          login: null,\n          senha: null,\n          nome: null,\n          sobrenome: null,\n          periodo: null,\n          permissoes: [],\n        },\n        usuario: null,\n        emptyFields: false,\n      };\n    },\n    mounted() {\n      this.getUsuarios();\n    },\n    methods: {\n      async getUsuarios() {\n        try {\n          let r = await fetch(\"http://localhost:8080/users\", {\n            method: \"GET\",\n            headers: { Authorization: `Bearer ${AuthService.dados.token}` },\n          });\n          r.json().then((j) => {\n            this.usuarios = j;\n          });\n        } catch (ex) {\n          console.log(\"ERRO\", ex);\n        }\n      },\n      async salvar() {\n        if (this.user.login && this.user.senha && this.user.nome && this.user.sobrenome && this.user.periodo) {\n          fetch(\"http://localhost:8080/users\", {\n            method: \"POST\",\n            body: JSON.stringify(this.user),\n            headers: {\n              Authorization: `Bearer ${AuthService.dados.token}`,\n              \"Content-Type\": \"application/json\",\n            },\n          })\n            .then((r) => {\n              if (r.status !== 200 && r.status !== 201) {\n                r.json().then((j) => {\n                  console.log(\"ERRO\", j);\n                });\n              }\n              this.getUsuarios();\n            })\n            .catch((e) => {\n              console.log(\"ERRO\", e);\n            });\n        } else {\n          this.emptyFields = true;\n        }\n      },\n      async atualizaUsuario() {\n        if (this.usuario.nome && this.usuario.sobrenome && this.usuario.periodo) {\n          axios({\n            method: \"PUT\",\n            url: `http://localhost:8080/users/${this.usuario.id}`,\n            headers: {\n              Authorization: `Bearer ${AuthService.dados.token}`,\n              \"Content-Type\": \"application/json\",\n            },\n            data: JSON.stringify(this.usuario),\n          })\n            .then((r) => {\n              console.log(r);\n              this.getUsuarios();\n              this.usuario = null;\n            })\n            .catch((e) => {\n              console.log(\"ERRO\", e);\n            });\n        } else {\n          this.emptyFields = true;\n        }\n      },\n      async excluiUsuario() {\n        axios({\n          method: \"DELETE\",\n          url: `http://localhost:8080/users/${this.usuario.id}`,\n          headers: {\n            Authorization: `Bearer ${AuthService.dados.token}`,\n            \"Content-Type\": \"application/json\",\n          },\n        })\n          .then((r) => {\n            console.log(r);\n            this.getUsuarios();\n            this.usuario = null;\n          })\n          .catch((e) => {\n            console.log(\"ERRO\", e);\n          });\n      },\n      abreEdit(id) {\n        axios({\n          method: \"GET\",\n          url: `http://localhost:8080/users/${id}`,\n        }).then((r) => {\n          this.usuario = r.data;\n        });\n      },\n      voltar() {\n        this.usuario = null;\n      },\n    },\n  };\n  </script>\n  \n  <style scoped>\n  .card {\n    padding: 20px;\n    /* Define o espaçamento interno */\n  }\n  \n  .form-select {\n    width: 40%;\n    /* Ajuste a largura conforme necessário */\n    height: 38px;\n    /* Ajuste a altura conforme necessário */\n    font-size: 0.9em;\n    /* Ajuste o tamanho da fonte conforme necessário */\n    margin-left: 10px;\n    /* Ajuste a margem à esquerda conforme necessário */\n  }\n  \n  .form-control {\n    height: 30px;\n    /* Ajuste a altura conforme necessário */\n    font-size: 0.9em;\n    /* Ajuste o tamanho da fonte conforme necessário */\n    border-radius: 5px;\n    /* Ajuste o arredondamento dos cantos conforme necessário */\n    margin: 5px 0;\n    /* Ajuste a margem superior e inferior conforme necessário */\n  }\n  \n  fieldset {\n    border: 2px solid blue;\n    /* Ajuste a borda conforme necessário */\n    padding: 20px;\n    /* Ajuste o espaçamento interno conforme necessário */\n    border-radius: 10px;\n    /* Ajuste o arredondamento dos cantos conforme necessário */\n    margin-top: 20px;\n    /* Ajuste a margem superior conforme necessário */\n  }\n  \n  legend {\n    font-size: 1.2em;\n    /* Ajuste o tamanho da fonte conforme necessário */\n    font-weight: bold;\n    /* Deixe o texto em negrito */\n  }\n  \n  textarea {\n    width: 100%;\n    /* Faz com que o textarea ocupe a largura total */\n    height: 100px;\n    /* Ajuste a altura conforme necessário */\n    margin-top: 10px;\n    /* Ajuste a margem superior conforme necessário */\n    border-radius: 5px;\n    /* Ajuste o arredondamento dos cantos conforme necessário */\n    padding: 10px;\n    /* Ajuste o espaçamento interno conforme necessário */\n  }\n  \n  button {\n    font-size: 0.9em;\n    /* Ajuste o tamanho da fonte conforme necessário */\n    box-shadow: 1px 2px 1px 1px rgba(0, 0, 0, 0.745) !important;\n  }\n  \n  button:hover {\n    color: black;\n    background-color: rgb(40, 232, 6);\n  }\n  \n  .atualizar:hover {\n    background-color: yellow;\n  }\n  \n  .excluir:hover {\n    color: black;\n    background-color: rgb(255, 21, 0);\n  }\n  \n  .voltar:hover {\n    color: black;\n    background-color: rgb(71, 186, 0);\n  }\n  \n  .menu-drop select {\n    font-size: 0.9em;\n    /* Ajuste o tamanho da fonte conforme necessário */\n    margin-left: 10px;\n    /* Ajuste a margem à esquerda conforme necessário */\n    width: 49%;\n    /* Largura padrão de 49% */\n  }\n  \n  /* Media query para ajustar a largura em telas menores */\n  @media only screen and (max-width: 768px) {\n    .menu-drop select {\n      width: 100%;\n      /* Largura de 100% quando a largura da tela for menor que 768px */\n    }\n  }\n  \n  .table * {\n    border: solid 1px black;\n  }\n  </style>\n  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}