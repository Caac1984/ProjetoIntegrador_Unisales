{"ast":null,"code":"import _defineProperty from \"/home/nomade00/\\xC1rea de Trabalho/Projeto-Aplicacao-Hibrida-main/demomongosec-master/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nclass AuthService {\n  constructor() {\n    _defineProperty(this, \"auths\", [{\n      path: '/',\n      roles: ['ROLE_ADMIN', 'ROLE_USER']\n    }, {\n      path: '/sobre',\n      roles: ['ROLE_USER']\n    }, {\n      path: '/project',\n      roles: ['ROLE_PROJETOS']\n    }, {\n      path: '/usuarios',\n      roles: ['ROLE_ADMIN']\n    }]);\n    _defineProperty(this, \"dadosAutenticado\", () => {\n      let dados = sessionStorage.getItem(\"dados-usuario\");\n      dados = dados != null ? JSON.parse(dados) : null;\n      return dados;\n    });\n    _defineProperty(this, \"validaPermissao\", path => {\n      let ret = false;\n      let pathVerifica = false;\n      this.dados = this.dadosAutenticado();\n      if (this.dados != null) {\n        for (let i = 0; i < this.auths.length; i++) {\n          let e = this.auths[i];\n          if (e.path == path) {\n            pathVerifica = true;\n            for (let j = 0; j < this.dados.permissoes.length; j++) {\n              let p = this.dados.permissoes[j];\n              let idx = e.roles.indexOf(p.authority);\n              if (idx >= 0) {\n                ret = true;\n              }\n            }\n          }\n        }\n      }\n      if (!pathVerifica) {\n        ret = true;\n      }\n      return ret;\n    });\n  }\n}\nexport default new AuthService();","map":{"version":3,"names":["AuthService","constructor","_defineProperty","path","roles","dados","sessionStorage","getItem","JSON","parse","ret","pathVerifica","dadosAutenticado","i","auths","length","e","j","permissoes","p","idx","indexOf","authority"],"sources":["/home/nomade00/Ãrea de Trabalho/Projeto-Aplicacao-Hibrida-main/demomongosec-master/frontend/src/services/AuthService.js"],"sourcesContent":["class AuthService {\n\n auths = [{\n  path: '/', roles: ['ROLE_ADMIN', 'ROLE_USER']\n }, {\n  path: '/sobre', roles: ['ROLE_USER']\n }, {\n  path: '/project', roles: ['ROLE_PROJETOS']\n }, {\n  path: '/usuarios', roles: ['ROLE_ADMIN']\n }]\n\n dadosAutenticado = () => {\n  let dados = sessionStorage.getItem(\"dados-usuario\");\n  dados = dados != null ? JSON.parse(dados) : null;\n  return dados;\n }\n\n validaPermissao = (path) => {\n  let ret = false;\n  let pathVerifica = false;\n  this.dados = this.dadosAutenticado();\n  if (this.dados != null) {\n   for (let i = 0; i < this.auths.length; i++) {\n    let e = this.auths[i];\n    if (e.path == path) {\n     pathVerifica = true;\n     for (let j = 0; j < this.dados.permissoes.length; j++) {\n      let p = this.dados.permissoes[j];\n      let idx = e.roles.indexOf(p.authority);\n      if (idx >= 0) {\n       ret = true;\n      }\n     }\n    }\n   }\n  }\n  if (!pathVerifica) {\n   ret = true;\n  }\n  return ret;\n }\n}\nexport default new AuthService();\n"],"mappings":";AAAA,MAAMA,WAAW,CAAC;EAAAC,YAAA;IAAAC,eAAA,gBAET,CAAC;MACRC,IAAI,EAAE,GAAG;MAAEC,KAAK,EAAE,CAAC,YAAY,EAAE,WAAW;IAC7C,CAAC,EAAE;MACFD,IAAI,EAAE,QAAQ;MAAEC,KAAK,EAAE,CAAC,WAAW;IACpC,CAAC,EAAE;MACFD,IAAI,EAAE,UAAU;MAAEC,KAAK,EAAE,CAAC,eAAe;IAC1C,CAAC,EAAE;MACFD,IAAI,EAAE,WAAW;MAAEC,KAAK,EAAE,CAAC,YAAY;IACxC,CAAC,CAAC;IAAAF,eAAA,2BAEiB,MAAM;MACxB,IAAIG,KAAK,GAAGC,cAAc,CAACC,OAAO,CAAC,eAAe,CAAC;MACnDF,KAAK,GAAGA,KAAK,IAAI,IAAI,GAAGG,IAAI,CAACC,KAAK,CAACJ,KAAK,CAAC,GAAG,IAAI;MAChD,OAAOA,KAAK;IACb,CAAC;IAAAH,eAAA,0BAEkBC,IAAI,IAAK;MAC3B,IAAIO,GAAG,GAAG,KAAK;MACf,IAAIC,YAAY,GAAG,KAAK;MACxB,IAAI,CAACN,KAAK,GAAG,IAAI,CAACO,gBAAgB,CAAC,CAAC;MACpC,IAAI,IAAI,CAACP,KAAK,IAAI,IAAI,EAAE;QACvB,KAAK,IAAIQ,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACC,KAAK,CAACC,MAAM,EAAEF,CAAC,EAAE,EAAE;UAC3C,IAAIG,CAAC,GAAG,IAAI,CAACF,KAAK,CAACD,CAAC,CAAC;UACrB,IAAIG,CAAC,CAACb,IAAI,IAAIA,IAAI,EAAE;YACnBQ,YAAY,GAAG,IAAI;YACnB,KAAK,IAAIM,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACZ,KAAK,CAACa,UAAU,CAACH,MAAM,EAAEE,CAAC,EAAE,EAAE;cACtD,IAAIE,CAAC,GAAG,IAAI,CAACd,KAAK,CAACa,UAAU,CAACD,CAAC,CAAC;cAChC,IAAIG,GAAG,GAAGJ,CAAC,CAACZ,KAAK,CAACiB,OAAO,CAACF,CAAC,CAACG,SAAS,CAAC;cACtC,IAAIF,GAAG,IAAI,CAAC,EAAE;gBACbV,GAAG,GAAG,IAAI;cACX;YACD;UACD;QACD;MACD;MACA,IAAI,CAACC,YAAY,EAAE;QAClBD,GAAG,GAAG,IAAI;MACX;MACA,OAAOA,GAAG;IACX,CAAC;EAAA;AACF;AACA,eAAe,IAAIV,WAAW,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}