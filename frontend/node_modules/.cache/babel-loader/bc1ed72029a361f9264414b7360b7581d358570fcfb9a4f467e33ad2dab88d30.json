{"ast":null,"code":"import { createRouter, createWebHashHistory } from 'vue-router';\nimport HomeView from '../views/HomeView.vue';\nimport LoginView from '../views/LoginView.vue';\nimport NaoAutorizadoView from '../views/NaoAutorizadoView.vue';\nimport UsuariosView from '../views/usuarios/UsuariosView.vue';\nimport UsuarioEditView from '../views/usuarios/UsuarioEditView.vue';\nimport ProjetosView from '../views/projetos/ProjetosView.vue';\nimport ProjetoEditView from '../views/projetos/ProjetoEditView.vue';\nimport LoginService from '../services/LoginService';\nimport AuthService from '@/services/AuthService';\nconst routes = [{\n  path: '/',\n  name: 'home',\n  component: HomeView\n}, {\n  path: '/projetos',\n  name: 'projetos',\n  component: ProjetosView\n}, {\n  path: '/projetos/:id',\n  name: 'projetoedit',\n  component: ProjetoEditView\n}, {\n  path: '/usuarios',\n  name: 'usuarios',\n  component: UsuariosView\n}, {\n  path: '/usuarios/:id',\n  name: 'usuariosedit',\n  component: UsuarioEditView\n}, {\n  path: '/login',\n  name: 'login',\n  component: LoginView\n}, {\n  path: '/nao-autorizado',\n  name: 'nao-autorizado',\n  component: NaoAutorizadoView\n}, {\n  path: '/sobre',\n  name: 'sobre',\n  component: () => import('../views/AboutView.vue') // Importação dinâmica para melhor desempenho\n}];\nconst router = createRouter({\n  history: createWebHashHistory(),\n  routes\n});\nrouter.beforeEach((to, from) => {\n  LoginService.router = router;\n\n  // Debug para monitorar as navegações\n  console.log(`de ${from.name} para ${to.name}`);\n\n  // Verifica autenticação\n  if (!LoginService.estaAutenticado() && to.name !== 'login') {\n    return {\n      name: 'login'\n    }; // Redireciona para a página de login se não estiver autenticado\n  }\n\n  // Verifica permissões\n  if (!AuthService.validaPermissao(to.path)) {\n    return {\n      name: 'nao-autorizado'\n    }; // Redireciona para a página não autorizado se não tiver permissão\n  }\n  return true; // Permite a navegação se todas as verificações passarem\n});\nexport default router;","map":{"version":3,"names":["createRouter","createWebHashHistory","HomeView","LoginView","NaoAutorizadoView","UsuariosView","UsuarioEditView","ProjetosView","ProjetoEditView","LoginService","AuthService","routes","path","name","component","router","history","beforeEach","to","from","console","log","estaAutenticado","validaPermissao"],"sources":["/home/nomade00/Área de Trabalho/Projeto-Aplicacao-Hibrida-main/demomongosec-master/frontend/src/router/index.js"],"sourcesContent":["import { createRouter, createWebHashHistory } from 'vue-router'\nimport HomeView from '../views/HomeView.vue'\nimport LoginView from '../views/LoginView.vue'\nimport NaoAutorizadoView from '../views/NaoAutorizadoView.vue'\nimport UsuariosView from '../views/usuarios/UsuariosView.vue'\nimport UsuarioEditView from '../views/usuarios/UsuarioEditView.vue'\nimport ProjetosView from '../views/projetos/ProjetosView.vue'\nimport ProjetoEditView from '../views/projetos/ProjetoEditView.vue'\n\nimport LoginService from '../services/LoginService'\nimport AuthService from '@/services/AuthService'\n\nconst routes = [\n  {\n    path: '/',\n    name: 'home',\n    component: HomeView\n  },\n  {\n    path: '/projetos',\n    name: 'projetos',\n    component: ProjetosView\n  },\n  {\n    path: '/projetos/:id',\n    name: 'projetoedit',\n    component: ProjetoEditView\n  },\n  {\n    path: '/usuarios',\n    name: 'usuarios',\n    component: UsuariosView\n  },\n  {\n    path: '/usuarios/:id',\n    name: 'usuariosedit',\n    component: UsuarioEditView\n  },\n  {\n    path: '/login',\n    name: 'login',\n    component: LoginView\n  },\n  {\n    path: '/nao-autorizado',\n    name: 'nao-autorizado',\n    component: NaoAutorizadoView\n  },\n  {\n    path: '/sobre',\n    name: 'sobre',\n    component: () => import('../views/AboutView.vue') // Importação dinâmica para melhor desempenho\n  },\n]\n\nconst router = createRouter({\n  history: createWebHashHistory(),\n  routes\n})\n\nrouter.beforeEach((to, from) => {\n  LoginService.router = router;\n\n  // Debug para monitorar as navegações\n  console.log(`de ${from.name} para ${to.name}`);\n\n  // Verifica autenticação\n  if (!LoginService.estaAutenticado() && to.name !== 'login') {\n    return { name: 'login' } // Redireciona para a página de login se não estiver autenticado\n  }\n\n  // Verifica permissões\n  if (!AuthService.validaPermissao(to.path)) {\n    return { name: 'nao-autorizado' } // Redireciona para a página não autorizado se não tiver permissão\n  }\n\n  return true; // Permite a navegação se todas as verificações passarem\n})\n\nexport default router\n"],"mappings":"AAAA,SAASA,YAAY,EAAEC,oBAAoB,QAAQ,YAAY;AAC/D,OAAOC,QAAQ,MAAM,uBAAuB;AAC5C,OAAOC,SAAS,MAAM,wBAAwB;AAC9C,OAAOC,iBAAiB,MAAM,gCAAgC;AAC9D,OAAOC,YAAY,MAAM,oCAAoC;AAC7D,OAAOC,eAAe,MAAM,uCAAuC;AACnE,OAAOC,YAAY,MAAM,oCAAoC;AAC7D,OAAOC,eAAe,MAAM,uCAAuC;AAEnE,OAAOC,YAAY,MAAM,0BAA0B;AACnD,OAAOC,WAAW,MAAM,wBAAwB;AAEhD,MAAMC,MAAM,GAAG,CACb;EACEC,IAAI,EAAE,GAAG;EACTC,IAAI,EAAE,MAAM;EACZC,SAAS,EAAEZ;AACb,CAAC,EACD;EACEU,IAAI,EAAE,WAAW;EACjBC,IAAI,EAAE,UAAU;EAChBC,SAAS,EAAEP;AACb,CAAC,EACD;EACEK,IAAI,EAAE,eAAe;EACrBC,IAAI,EAAE,aAAa;EACnBC,SAAS,EAAEN;AACb,CAAC,EACD;EACEI,IAAI,EAAE,WAAW;EACjBC,IAAI,EAAE,UAAU;EAChBC,SAAS,EAAET;AACb,CAAC,EACD;EACEO,IAAI,EAAE,eAAe;EACrBC,IAAI,EAAE,cAAc;EACpBC,SAAS,EAAER;AACb,CAAC,EACD;EACEM,IAAI,EAAE,QAAQ;EACdC,IAAI,EAAE,OAAO;EACbC,SAAS,EAAEX;AACb,CAAC,EACD;EACES,IAAI,EAAE,iBAAiB;EACvBC,IAAI,EAAE,gBAAgB;EACtBC,SAAS,EAAEV;AACb,CAAC,EACD;EACEQ,IAAI,EAAE,QAAQ;EACdC,IAAI,EAAE,OAAO;EACbC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,wBAAwB,CAAC,CAAC;AACpD,CAAC,CACF;AAED,MAAMC,MAAM,GAAGf,YAAY,CAAC;EAC1BgB,OAAO,EAAEf,oBAAoB,CAAC,CAAC;EAC/BU;AACF,CAAC,CAAC;AAEFI,MAAM,CAACE,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,KAAK;EAC9BV,YAAY,CAACM,MAAM,GAAGA,MAAM;;EAE5B;EACAK,OAAO,CAACC,GAAG,CAAE,MAAKF,IAAI,CAACN,IAAK,SAAQK,EAAE,CAACL,IAAK,EAAC,CAAC;;EAE9C;EACA,IAAI,CAACJ,YAAY,CAACa,eAAe,CAAC,CAAC,IAAIJ,EAAE,CAACL,IAAI,KAAK,OAAO,EAAE;IAC1D,OAAO;MAAEA,IAAI,EAAE;IAAQ,CAAC,EAAC;EAC3B;;EAEA;EACA,IAAI,CAACH,WAAW,CAACa,eAAe,CAACL,EAAE,CAACN,IAAI,CAAC,EAAE;IACzC,OAAO;MAAEC,IAAI,EAAE;IAAiB,CAAC,EAAC;EACpC;EAEA,OAAO,IAAI,CAAC,CAAC;AACf,CAAC,CAAC;AAEF,eAAeE,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}