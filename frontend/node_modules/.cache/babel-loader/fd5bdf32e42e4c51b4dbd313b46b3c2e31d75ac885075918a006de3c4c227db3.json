{"ast":null,"code":"import _defineProperty from \"/home/nomade00/\\xC1rea de Trabalho/Projeto-Aplicacao-Hibrida-main/demomongosec-master/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/web.url-search-params.delete.js\";\nimport \"core-js/modules/web.url-search-params.has.js\";\nimport \"core-js/modules/web.url-search-params.size.js\";\nclass LoginService {\n  constructor() {\n    _defineProperty(this, \"dadosAutenticado\", () => {\n      let dados = sessionStorage.getItem(\"dados-usuario\");\n      dados = dados != null ? JSON.parse(dados) : null;\n      return dados;\n    });\n    _defineProperty(this, \"estaAutenticado\", () => {\n      return this.dadosAutenticado() != null;\n    });\n    _defineProperty(this, \"deslogar\", () => {\n      sessionStorage.removeItem(\"dados-usuario\");\n    });\n    _defineProperty(this, \"logar\", (_login, _senha) => {\n      const data = new URLSearchParams();\n      data.append('login', _login);\n      data.append('senha', _senha);\n      fetch(\"http://localhost:8080/auth/login\", {\n        method: 'POST',\n        body: data\n      }).then(r => {\n        console.log(r);\n        if (r.status != 200) {\n          return Promise.reject(r);\n        }\n        return r.json();\n      }).then(j => {\n        console.log(j);\n        sessionStorage.setItem(\"dados-usuario\", JSON.stringify(j));\n        if (this.router != null) {\n          this.router.push(\"/\");\n        }\n      }).catch(e => {\n        e.json().then(j => {\n          console.log(e.status);\n          console.log(j);\n        });\n      });\n    });\n  }\n}\nexport default new LoginService();","map":{"version":3,"names":["LoginService","constructor","_defineProperty","dados","sessionStorage","getItem","JSON","parse","dadosAutenticado","removeItem","_login","_senha","data","URLSearchParams","append","fetch","method","body","then","r","console","log","status","Promise","reject","json","j","setItem","stringify","router","push","catch","e"],"sources":["/home/nomade00/Área de Trabalho/Projeto-Aplicacao-Hibrida-main/demomongosec-master/frontend/src/services/LoginService.js"],"sourcesContent":["class LoginService {\n dadosAutenticado = () => {\n  let dados = sessionStorage.getItem(\"dados-usuario\");\n  dados = dados != null ? JSON.parse(dados) : null;\n  return dados;\n }\n\n estaAutenticado = () => {\n  return this.dadosAutenticado() != null;\n }\n\n deslogar = () => {\n  sessionStorage.removeItem(\"dados-usuario\");\n }\n\n logar = (_login, _senha) => {\n  const data = new URLSearchParams();\n  data.append('login', _login);\n  data.append('senha', _senha);\n  fetch(\"http://localhost:8080/auth/login\", {\n   method: 'POST',\n   body: data\n  }).then(r => {\n   console.log(r);\n   if (r.status != 200) {\n    return Promise.reject(r);\n   }\n   return r.json();\n  }).then(j => {\n   console.log(j);\n   sessionStorage.setItem(\"dados-usuario\", JSON.stringify(j));\n   if (this.router != null) {\n    this.router.push(\"/\");\n   }\n  }).catch(e => {\n   e.json().then((j) => {\n    console.log(e.status);\n    console.log(j);\n   })\n  })\n }\n}\n\nexport default new LoginService();"],"mappings":";;;;;AAAA,MAAMA,YAAY,CAAC;EAAAC,YAAA;IAAAC,eAAA,2BACC,MAAM;MACxB,IAAIC,KAAK,GAAGC,cAAc,CAACC,OAAO,CAAC,eAAe,CAAC;MACnDF,KAAK,GAAGA,KAAK,IAAI,IAAI,GAAGG,IAAI,CAACC,KAAK,CAACJ,KAAK,CAAC,GAAG,IAAI;MAChD,OAAOA,KAAK;IACb,CAAC;IAAAD,eAAA,0BAEiB,MAAM;MACvB,OAAO,IAAI,CAACM,gBAAgB,CAAC,CAAC,IAAI,IAAI;IACvC,CAAC;IAAAN,eAAA,mBAEU,MAAM;MAChBE,cAAc,CAACK,UAAU,CAAC,eAAe,CAAC;IAC3C,CAAC;IAAAP,eAAA,gBAEO,CAACQ,MAAM,EAAEC,MAAM,KAAK;MAC3B,MAAMC,IAAI,GAAG,IAAIC,eAAe,CAAC,CAAC;MAClCD,IAAI,CAACE,MAAM,CAAC,OAAO,EAAEJ,MAAM,CAAC;MAC5BE,IAAI,CAACE,MAAM,CAAC,OAAO,EAAEH,MAAM,CAAC;MAC5BI,KAAK,CAAC,kCAAkC,EAAE;QACzCC,MAAM,EAAE,MAAM;QACdC,IAAI,EAAEL;MACP,CAAC,CAAC,CAACM,IAAI,CAACC,CAAC,IAAI;QACZC,OAAO,CAACC,GAAG,CAACF,CAAC,CAAC;QACd,IAAIA,CAAC,CAACG,MAAM,IAAI,GAAG,EAAE;UACpB,OAAOC,OAAO,CAACC,MAAM,CAACL,CAAC,CAAC;QACzB;QACA,OAAOA,CAAC,CAACM,IAAI,CAAC,CAAC;MAChB,CAAC,CAAC,CAACP,IAAI,CAACQ,CAAC,IAAI;QACZN,OAAO,CAACC,GAAG,CAACK,CAAC,CAAC;QACdtB,cAAc,CAACuB,OAAO,CAAC,eAAe,EAAErB,IAAI,CAACsB,SAAS,CAACF,CAAC,CAAC,CAAC;QAC1D,IAAI,IAAI,CAACG,MAAM,IAAI,IAAI,EAAE;UACxB,IAAI,CAACA,MAAM,CAACC,IAAI,CAAC,GAAG,CAAC;QACtB;MACD,CAAC,CAAC,CAACC,KAAK,CAACC,CAAC,IAAI;QACbA,CAAC,CAACP,IAAI,CAAC,CAAC,CAACP,IAAI,CAAEQ,CAAC,IAAK;UACpBN,OAAO,CAACC,GAAG,CAACW,CAAC,CAACV,MAAM,CAAC;UACrBF,OAAO,CAACC,GAAG,CAACK,CAAC,CAAC;QACf,CAAC,CAAC;MACH,CAAC,CAAC;IACH,CAAC;EAAA;AACF;AAEA,eAAe,IAAI1B,YAAY,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}